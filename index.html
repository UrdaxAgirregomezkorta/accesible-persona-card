<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessible Persona Card - Owen</title>
    <style>
        :root {
            --color-primary: #0066cc;
            --color-text: #1a1a1a;
            --color-bg: #ffffff;
            --color-border: #cccccc;
            --color-bg-secondary: #f5f5f5;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--color-text);
            background-color: var(--color-bg-secondary);
            padding: 2rem;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--color-bg);
            border: 2px solid var(--color-border);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--color-primary);
        }

        .subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 1.5rem;
            font-weight: normal;
        }

        .section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background-color: var(--color-bg-secondary);
            border-radius: 8px;
            border-left: 4px solid var(--color-primary);
        }

        h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--color-primary);
        }

        p {
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        ul {
            list-style-position: inside;
            margin-left: 1rem;
        }

        li {
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }

        .key-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .info-item {
            background-color: var(--color-bg-secondary);
            padding: 1rem;
            border-radius: 8px;
        }

        .info-label {
            font-weight: bold;
            color: var(--color-primary);
            display: block;
            margin-bottom: 0.25rem;
        }

        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--color-primary);
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 4px;
        }

        .skip-link:focus {
            top: 0;
        }

        button {
            background-color: var(--color-primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 1rem;
        }

        button:hover, button:focus {
            background-color: #0052a3;
            outline: 3px solid #ffa500;
            outline-offset: 2px;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        .language-selector {
            text-align: center;
            margin-bottom: 1rem;
        }

        .lang-btn {
            background-color: #f5f5f5;
            color: var(--color-text);
            border: 2px solid var(--color-border);
            padding: 0.5rem 1.5rem;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
            margin: 0 0.5rem;
        }

        .lang-btn:hover, .lang-btn:focus {
            background-color: #e0e0e0;
            outline: 3px solid #ffa500;
            outline-offset: 2px;
        }

        .lang-btn.active {
            background-color: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        @media (max-width: 600px) {
            body {
                padding: 1rem;
            }

            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.25rem;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link" id="skip-link-text">Skip to main content</a>

    <div class="language-selector" role="region" aria-label="Language Selection">
        <button onclick="changeLanguage('en')" id="btn-en" class="lang-btn active" aria-pressed="true">English</button>
        <button onclick="changeLanguage('es')" id="btn-es" class="lang-btn" aria-pressed="false">Español</button>
    </div>

    <div class="container" role="main" id="main-content">
        <header>
            <h1 id="name">Carol - Grandmother with Macular Degeneration</h1>
            <p class="subtitle" id="subtitle">Older adult with low vision who loves reading and using the computer</p>
        </header>

        <div class="key-info" role="region" aria-label="Key Information">
            <div class="info-item">
                <span class="info-label">Age:</span>
                <span>Senior adult</span>
            </div>
            <div class="info-item">
                <span class="info-label">Occupation:</span>
                <span>Retired (formerly used ledgers)</span>
            </div>
            <div class="info-item">
                <span class="info-label">Disability:</span>
                <span>Macular degeneration (fading eyesight)</span>
            </div>
            <div class="info-item">
                <span class="info-label">Challenges:</span>
                <span>Small text, unsteady hands, low contrast</span>
            </div>
        </div>

        <section class="section">
            <h2>About Carol</h2>
            <p>Carol has always loved reading, so her fading eyesight is a sorrow to her. She tried recorded books, but she didn't like them. She made the transition from ledgers to a software program, so she's happy to use the computer. She loves getting emails from her grandkids and friends. She likes reading magazine articles online, especially when they are free. Last year, she discovered that she could get her prescriptions more cheaply online, and now she buys some things from the web. Her biggest problem is that the text is so small. She's learned how to click on the symbol to make the text bigger, but is frustrated when it doesn't work the same way on every site. She also finds that her hands aren't as steady as they used to be, and she can't always click on things accurately. As her eyes get worse, she wonders how long she'll be able to keep using the computer. All that light gray text on a white screen is just too hard to see.</p>
        </section>

        <section class="section">
            <h2>Technologies and Preferences</h2>
            <ul>
                <li>Computer for emails, shopping, and reading articles</li>
                <li>Browser zoom feature to enlarge text</li>
                <li>"Old fashioned" mobile phone with large buttons she can feel easily</li>
                <li>Prefers high contrast (struggles with light gray text on white backgrounds)</li>
                <li>Needs larger clickable areas due to hand tremors</li>
            </ul>
        </section>

        <section class="section">
            <h2>Main Barriers Encountered</h2>
            <ul>
                <li>Text that is too small and cannot be enlarged properly</li>
                <li>Low contrast text (especially light gray on white backgrounds)</li>
                <li>Text that doesn't reflow when enlarged, requiring horizontal scrolling</li>
                <li>Small buttons and links that are hard to click accurately</li>
                <li>Inconsistent zoom/text-size controls across different websites</li>
                <li>Complex layouts that become unusable when text is enlarged</li>
            </ul>
        </section>

        <section class="section">
            <h2>WCAG 2.2 Guidelines to Support Carol</h2>
            <ul>
                <li><strong>1.4.3 Contrast (Minimum) (Level AA):</strong> Text must have at least 4.5:1 contrast ratio; large text at least 3:1</li>
                <li><strong>1.4.4 Resize Text (Level AA):</strong> Text can be resized up to 200% without loss of content or functionality</li>
                <li><strong>1.4.10 Reflow (Level AA):</strong> Content reflows for 400% zoom without horizontal scrolling</li>
                <li><strong>1.4.12 Text Spacing (Level AA):</strong> No loss of content when user adjusts text spacing</li>
                <li><strong>2.5.5 Target Size (Level AAA):</strong> Clickable targets should be at least 44x44 pixels</li>
                <li><strong>2.5.8 Target Size (Minimum) (Level AA):</strong> Targets at least 24x24 pixels</li>
                <li><strong>1.4.8 Visual Presentation (Level AAA):</strong> Support for user-selected foreground/background colors</li>
            </ul>
        </section>

        <section class="section">
            <h2>Design Recommendations</h2>
            <ul>
                <li>Use high contrast color combinations (avoid light gray on white)</li>
                <li>Ensure text can be resized to 200% without breaking layout</li>
                <li>Design for reflow so enlarged text doesn't require horizontal scrolling</li>
                <li>Make buttons and links large enough (minimum 44x44 pixels recommended)</li>
                <li>Add adequate spacing between clickable elements</li>
                <li>Use relative font sizes (rem, em) instead of fixed pixel sizes</li>
                <li>Avoid conveying information through color alone</li>
                <li>Test with browser zoom at 200% and 400%</li>
                <li>Provide clear visual focus indicators for interactive elements</li>
            </ul>
        </section>

        <button onclick="speakCard()" aria-label="Read entire persona card aloud">
            Read Card Aloud
        </button>
    </div>

    <script>
        let currentLang = 'en';

        const translations = {
            en: {
                skip: 'Skip to main content',
                name: 'Carol - Grandmother with Macular Degeneration',
                subtitle: 'Older adult with low vision who loves reading and using the computer',
                age: 'Age:',
                ageValue: '62 years old',
                occupation: 'Occupation:',
                occupationValue: 'Retired Accountant',
                disability: 'Disability:',
                disabilityValue: 'Lost vision in recent years',
                at: 'Primary AT:',
                atValue: 'NVDA Screen Reader',
                aboutTitle: 'About Maria',
                aboutText: 'Carol has always loved reading, so her fading eyesight is a sorrow to her. She tried recorded books, but she didn\'t like them. She made the transition from ledgers to a software program, so she\'s happy to use the computer. She loves getting emails from her grandkids and friends. She likes reading magazine articles online, especially when they are free. Her biggest problem is that the text is so small, and she struggles with light gray text on white screens.',
                atTitle: 'Assistive Technologies Used',
                barriersTitle: 'Main Barriers Encountered',
                wcagTitle: 'WCAG 2.2 Guidelines to Support Maria',
                designTitle: 'Design Recommendations',
                readBtn: 'Read Card Aloud',
                langChanged: 'Language changed to English'
            },
            es: {
                skip: 'Saltar al contenido principal',
                name: 'Carol - Abuela con Degeneración Macular',
                subtitle: 'Adulta mayor con baja visión que ama leer y usar la computadora',
                age: 'Edad:',
                ageValue: '62 años',
                occupation: 'Ocupación:',
                occupationValue: 'Contadora Jubilada',
                disability: 'Discapacidad:',
                disabilityValue: 'Perdió la visión en años recientes',
                at: 'Tecnología Asistiva:',
                atValue: 'Lector de Pantalla NVDA',
                aboutTitle: 'Sobre María',
                aboutText: 'Carol siempre ha amado leer, por lo que su vista deteriorada es una tristeza para ella. Probó audiolibros, pero no le gustaron. Hizo la transición de libros de contabilidad a un programa de software, así que está feliz de usar la computadora. Le encanta recibir correos electrónicos de sus nietos y amigos. Le gusta leer artículos de revistas en línea. Su mayor problema es que el texto es demasiado pequeño y tiene dificultades con texto gris claro sobre fondos blancos.',
                atTitle: 'Tecnologías Asistivas Utilizadas',
                barriersTitle: 'Principales Barreras Encontradas',
                wcagTitle: 'Directrices WCAG 2.2 para Apoyar a María',
                designTitle: 'Recomendaciones de Diseño',
                readBtn: 'Leer Tarjeta en Voz Alta',
                langChanged: 'Idioma cambiado a Español'
            }
        };

        function changeLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            // Update HTML lang attribute
            document.documentElement.lang = lang === 'en' ? 'en' : 'es';
            
            // Update all text content
            document.getElementById('skip-link-text').textContent = t.skip;
            document.getElementById('name').textContent = t.name;
            document.getElementById('subtitle').textContent = t.subtitle;
            
            // Update button states
            document.getElementById('btn-en').classList.toggle('active', lang === 'en');
            document.getElementById('btn-es').classList.toggle('active', lang === 'es');
            document.getElementById('btn-en').setAttribute('aria-pressed', lang === 'en');
            document.getElementById('btn-es').setAttribute('aria-pressed', lang === 'es');
            
            // Announce language change to screen readers
            announceToScreenReader(t.langChanged);
        }

        function announceToScreenReader(message) {
            const announcement = document.createElement('div');
            announcement.setAttribute('role', 'status');
            announcement.setAttribute('aria-live', 'polite');
            announcement.className = 'sr-only';
            announcement.textContent = message;
            document.body.appendChild(announcement);
            setTimeout(() => announcement.remove(), 3000);
        }

        function speakCard() {
            if ('speechSynthesis' in window) {
                const text = document.body.textContent;
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = currentLang === 'en' ? 'en-US' : 'es-ES';
                utterance.rate = 1.0;
                window.speechSynthesis.speak(utterance);
            } else {
                const msg = currentLang === 'en' 
                    ? 'Sorry, your browser does not support text-to-speech.' 
                    : 'Lo siento, tu navegador no soporta texto a voz.';
                alert(msg);
            }
        }

        // Announce page load to screen readers
        window.addEventListener('load', function() {
            announceToScreenReader('Accessible persona card for Carol loaded successfully.');
        });
    </script>
</body>
</html>